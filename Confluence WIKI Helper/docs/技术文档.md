# Confluence WIKI Helper æŠ€æœ¯æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: Confluence WIKI Helper  
**åŒ…å**: `com.jambus.wikihelper`  
**ç‰ˆæœ¬**: 1.0.0  
**æœ€ä½Androidç‰ˆæœ¬**: API 26 (Android 8.0)  
**æ›´æ–°æ—¥æœŸ**: 2025å¹´8æœˆ19æ—¥

ä¼ä¸šçŸ¥è¯†åº“æ™ºèƒ½é—®ç­”åº”ç”¨ï¼ŒåŸºäºDify APIå®ç°æ™ºèƒ½å¯¹è¯ç³»ç»Ÿã€‚æ”¯æŒæµå¼å“åº”ã€å¤šæ¨¡æ€è¾“å…¥ã€çŸ¥è¯†æ¥æºå¼•ç”¨ç­‰é«˜çº§åŠŸèƒ½ã€‚

## ğŸ¯ æœ€æ–°è¿›å±• (2025-08-19)

### âœ… å·²å®ŒæˆåŠŸèƒ½
- **Dify API å®Œæ•´é›†æˆ** - æ”¯æŒæµå¼å“åº”ã€æ–‡ä»¶ä¸Šä¼ ã€çŸ¥è¯†æ¥æºæ£€ç´¢
- **ä¼ä¸šçº§UIç•Œé¢** - ç¬¦åˆMaterial Design 3è§„èŒƒï¼Œå®ç°æ‰“å­—æœºæ•ˆæœ
- **å®‰å…¨APIå¯†é’¥ç®¡ç†** - ä½¿ç”¨Android KeystoreåŠ å¯†å­˜å‚¨
- **å®æ—¶æ¶ˆæ¯äº¤äº’** - é”®ç›˜è¾“å…¥ã€æµå¼æ˜¾ç¤ºã€é”™è¯¯å¤„ç†
- **çŸ¥è¯†æ¥æºå±•ç¤º** - ç‚¹å‡»æŸ¥çœ‹æ–‡æ¡£æ¥æºè¯¦æƒ…
- **å“åº”å¼åŠ¨ç”»** - æ¶ˆæ¯è¿›å…¥åŠ¨ç”»ã€æ‰“å­—æŒ‡ç¤ºå™¨ã€åº•éƒ¨å¼¹çª—

### ğŸš€ æ ¸å¿ƒç‰¹æ€§
- **å“åº”æ—¶é—´**: â‰¤1.5s (ç¬¦åˆrequirements.mdè¦æ±‚)
- **æ‰“å­—æ•ˆæœ**: 30ms/å­—ç¬¦æµå¼æ˜¾ç¤º
- **ç”¨æˆ·æ ‡è¯†**: é»˜è®¤ä½¿ç”¨ "abc-123"
- **APIç«¯ç‚¹**: http://123.60.144.244/v1/chat-messages
- **ä¸»é¢˜è‰²å½©**: #4285F4 (ä¸»è“è‰²), #34A853 (å¼ºè°ƒç»¿è‰²)

## ç³»ç»Ÿæ¶æ„

### æŠ€æœ¯æ ˆ
- **æ¶æ„æ¨¡å¼**: MVVM + Clean Architecture
- **è¯­è¨€**: Kotlin 1.9.23
- **UIæ¡†æ¶**: Jetpack Compose + Material Design 3
- **çŠ¶æ€ç®¡ç†**: StateFlow + ViewModel
- **ä¾èµ–æ³¨å…¥**: Hilt (æ›¿ä»£åŸDagger)
- **æ³¨è§£å¤„ç†**: KSP (æ›¿ä»£KAPTï¼Œæå‡ç¼–è¯‘æ€§èƒ½)
- **æ•°æ®å­˜å‚¨**: Room Database
- **ç½‘ç»œé€šä¿¡**: Retrofit2 + OkHttp3
- **å®‰å…¨å­˜å‚¨**: Android Keystore + EncryptedSharedPreferences
- **æµå¼å¤„ç†**: Server-Sent Events (SSE)
- **Javaç‰ˆæœ¬**: OpenJDK 17 (å…¼å®¹æ€§æœ€ä½³)

### é¡¹ç›®ç»“æ„
```
com.jambus.wikihelper/
â”œâ”€â”€ MainActivity.kt                    // ä¸»Activity
â”œâ”€â”€ WikiHelperApplication.kt          // Applicationç±»
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ remote/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ DifyApiService.kt     // Dify APIæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”‚   â””â”€â”€ DifyModels.kt         // Difyæ•°æ®æ¨¡å‹(æ”¯æŒæ–‡ä»¶ä¸Šä¼ )
â”‚   â”‚   â””â”€â”€ NetworkModule.kt          // ç½‘ç»œé…ç½®(æ›´æ–°Base URL)
â”‚   â”œâ”€â”€ local/
â”‚   â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatMessageEntity.kt  // æ¶ˆæ¯å®ä½“
â”‚   â”‚   â”‚   â””â”€â”€ ConversationEntity.kt // å¯¹è¯å®ä½“
â”‚   â”‚   â”œâ”€â”€ dao/
â”‚   â”‚   â”‚   â””â”€â”€ ChatDao.kt            // Room DAOæ¥å£
â”‚   â”‚   â””â”€â”€ database/
â”‚   â”‚       â””â”€â”€ WikiHelperDatabase.kt // Roomæ•°æ®åº“
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”œâ”€â”€ ChatRepository.kt         // èŠå¤©æ•°æ®ä»“åº“
â”‚   â”‚   â”œâ”€â”€ DifyRepository.kt         // Dify APIä»“åº“(æ”¯æŒæµå¼å“åº”)
â”‚   â”‚   â””â”€â”€ KnowledgeRepository.kt    // çŸ¥è¯†åº“ä»“åº“
â”‚   â””â”€â”€ security/
â”‚       â””â”€â”€ SecurityManager.kt        // å®‰å…¨é…ç½®(API KeyåŠ å¯†)
â”œâ”€â”€ di/
â”‚   â””â”€â”€ AppModule.kt                  // Hiltä¾èµ–æ³¨å…¥é…ç½®
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ screen/
â”‚   â”‚   â””â”€â”€ ChatScreen.kt             // ä¸»èŠå¤©ç•Œé¢(æ–°å¢å¤šç»„ä»¶)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ChatMessageItem.kt        // æ¶ˆæ¯ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ InputBar.kt               // è¾“å…¥æ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TypewriterText.kt         // æ‰“å­—æœºæ•ˆæœç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ KnowledgeSourceChip.kt    // çŸ¥è¯†æ¥æºæ ‡ç­¾
â”‚   â”‚   â”œâ”€â”€ TypingIndicator.kt        // æ‰“å­—æŒ‡ç¤ºå™¨
â”‚   â”‚   â””â”€â”€ ApiKeyDialog.kt           // APIå¯†é’¥è®¾ç½®å¯¹è¯æ¡†
â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â”œâ”€â”€ Color.kt                  // é¢œè‰²ä¸»é¢˜(æŒ‰requirements.md)
â”‚   â”‚   â”œâ”€â”€ Theme.kt                  // ä¸»é¢˜é…ç½®
â”‚   â”‚   â””â”€â”€ Type.kt                   // å­—ä½“æ ·å¼
â”‚   â””â”€â”€ viewmodel/
â”‚       â””â”€â”€ ChatViewModel.kt          // èŠå¤©ViewModel(æ”¯æŒæµå¼å“åº”)
â””â”€â”€ utils/
    â””â”€â”€ NetworkResult.kt              // ç½‘ç»œç»“æœå°è£…
```
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ChatMessage.kt            // æ¶ˆæ¯ç»„ä»¶
â”‚   â”‚   â””â”€â”€ InputBar.kt               // è¾“å…¥æ ç»„ä»¶
â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â””â”€â”€ ChatScreen.kt             // ä¸»å±å¹•
â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â”œâ”€â”€ Color.kt                  // é¢œè‰²ä¸»é¢˜
â”‚   â”‚   â”œâ”€â”€ Theme.kt                  // ä¸»é¢˜é…ç½®
â”‚   â”‚   â””â”€â”€ Type.kt                   // å­—ä½“æ ·å¼
â”‚   â””â”€â”€ viewmodel/
â”‚       â””â”€â”€ ChatViewModel.kt          // èŠå¤©ViewModel
â””â”€â”€ utils/
    â””â”€â”€ NetworkResult.kt              // ç½‘ç»œç»“æœå°è£…
```

## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ç½‘ç»œå±‚ (Remote Layer)

#### Dify APIæ¥å£å®šä¹‰ (æœ€æ–°ç‰ˆæœ¬)
```kotlin
interface DifyApiService {
    @Headers("Content-Type: application/json")
    @POST("v1/chat-messages")
    suspend fun sendChatMessage(
        @Header("Authorization") authToken: String,
        @Body request: DifyChatRequest
    ): Response<DifyChatResponse>
    
    @Headers("Content-Type: application/json")
    @Streaming
    @POST("v1/chat-messages")
    suspend fun sendChatMessageStream(
        @Header("Authorization") authToken: String,
        @Body request: DifyChatRequest
    ): ResponseBody  // æ”¯æŒæµå¼å“åº”
}
```

#### æ•°æ®æ¨¡å‹ (æ”¯æŒæ–‡ä»¶ä¸Šä¼ )
```kotlin
data class DifyChatRequest(
    val inputs: Map<String, String> = emptyMap(),
    val query: String,
    val user: String = "abc-123",  // é»˜è®¤ç”¨æˆ·ID
    val response_mode: String = "streaming",
    val conversation_id: String? = null,
    val files: List<DifyFile>? = null  // æ–°å¢æ–‡ä»¶æ”¯æŒ
)

data class DifyFile(
    val type: String,              // "image", "document"
    val transfer_method: String,   // "remote_url", "local_file"
    val url: String? = null
)

data class DifyStreamResponse(
    val event: String,             // "message", "message_end", "error"
    val conversation_id: String? = null,
    val message_id: String? = null,
    val answer: String? = null,
    val metadata: DifyMetadata? = null  // çŸ¥è¯†æ¥æºä¿¡æ¯
)
```

### 2. æ•°æ®å­˜å‚¨å±‚ (Local Layer)

#### Roomæ•°æ®åº“å®ä½“
```kotlin
@Entity(tableName = "chat_messages")
data class ChatMessageEntity(
    @PrimaryKey(autoGenerate = true)
    val id: Long = 0,
    val message: String,
    val isUser: Boolean,
    val timestamp: Date = Date(),
    val conversationId: String? = null,
    val messageId: String? = null,        // Difyæ¶ˆæ¯ID
    val references: String? = null        // çŸ¥è¯†æ¥æº(JSONæ ¼å¼)
)

@Entity(tableName = "conversations")
data class ConversationEntity(
    @PrimaryKey
    val id: String,
    val title: String,
    val createdAt: Date = Date(),
    val updatedAt: Date = Date()
)
```

### 3. ä»“åº“å±‚ (Repository Layer)

#### DifyRepository (æ”¯æŒæµå¼å“åº”)
```kotlin
class DifyRepository @Inject constructor(
    private val apiService: DifyApiService
) {
    companion object {
        private const val DEFAULT_USER_ID = "abc-123"
    }
    
    suspend fun sendChatMessageStream(
        apiKey: String,
        query: String,
        conversationId: String? = null,
        files: List<DifyFile>? = null
    ): Flow<NetworkResult<DifyStreamResponse>> = flow {
        // Server-Sent Events æµå¼å¤„ç†
        val responseBody = apiService.sendChatMessageStream(
            authToken = "Bearer $apiKey",
            request = DifyChatRequest(...)
        )
        
        responseBody.source().use { source ->
            val reader = BufferedReader(source.inputStream().reader())
            // é€è¡Œè§£æSSEæ•°æ®æµ
        }
    }
}
```

### 4. å®‰å…¨å­˜å‚¨ (SecurityManager)
```kotlin
@Singleton
class SecurityManager @Inject constructor(
    @ApplicationContext private val context: Context
) {
    private val masterKey = MasterKey.Builder(context)
        .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)
        .build()

    private val encryptedPrefs: SharedPreferences by lazy {
        EncryptedSharedPreferences.create(
            context,
            "secure_prefs",
            masterKey,
            EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,
            EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM
        )
    }
    
    fun storeApiKey(apiKey: String) // åŠ å¯†å­˜å‚¨APIå¯†é’¥
    fun getApiKey(): String?        // å®‰å…¨è·å–APIå¯†é’¥
    fun hasApiKey(): Boolean        // æ£€æŸ¥æ˜¯å¦å·²è®¾ç½®APIå¯†é’¥
}
```

### 5. ç”¨æˆ·ç•Œé¢ (UI Layer)

#### ä¸»è¦Composeç»„ä»¶
```kotlin
// ä¸»èŠå¤©ç•Œé¢ - æ–°å¢å¤šç§äº¤äº’åŠŸèƒ½
@Composable
fun ChatScreen() {
    // çŠ¶æ€ç®¡ç†
    val uiState by viewModel.uiState.collectAsState()
    var showApiKeyDialog by remember { mutableStateOf(false) }
    var showKnowledgeSheet by remember { mutableStateOf(false) }
    
    // API Keyæ£€æŸ¥ - é¦–æ¬¡ä½¿ç”¨å¼¹å‡ºè®¾ç½®å¯¹è¯æ¡†
    LaunchedEffect(uiState.isApiKeySet) {
        if (!uiState.isApiKeySet) {
            showApiKeyDialog = true
        }
    }
    
    // ç•Œé¢ç»„ä»¶
    EmptyStateScreen()           // ç©ºçŠ¶æ€æ¬¢è¿ç•Œé¢
    MessageList()                // æ¶ˆæ¯åˆ—è¡¨(æ”¯æŒæµå¼æ˜¾ç¤º)
    InputBar()                   // è¾“å…¥æ (æ”¯æŒæ–‡ä»¶ä¸Šä¼ é¢„ç•™)
    ApiKeyDialog()               // APIå¯†é’¥è®¾ç½®å¯¹è¯æ¡†
    KnowledgeSourceBottomSheet() // çŸ¥è¯†æ¥æºè¯¦æƒ…å¼¹çª—
}

// æ‰“å­—æœºæ•ˆæœæ–‡æœ¬ç»„ä»¶
@Composable
fun TypewriterText(text: String) {
    var displayedText by remember { mutableStateOf("") }
    
    LaunchedEffect(text) {
        displayedText = ""
        text.forEachIndexed { index, _ ->
            delay(30) // 30ms/å­—ç¬¦ï¼Œç¬¦åˆrequirements.mdè¦æ±‚
            displayedText = text.substring(0, index + 1)
        }
    }
    
    Text(text = displayedText)
}

// çŸ¥è¯†æ¥æºæ ‡ç­¾ç»„ä»¶
@Composable
fun KnowledgeSourceChip(
    references: String,
    onClick: () -> Unit
) {
    Surface(
        onClick = onClick,
        color = AccentGreen,  // #34A853
        shape = RoundedCornerShape(16.dp)
    ) {
        Row {
            Icon(Icons.Default.Info, tint = Color.White)
            Text("æ¥æº", color = Color.White)
        }
    }
}
```

#### ä¸»é¢˜é…ç½® (æŒ‰requirements.mdè§„èŒƒ)
```kotlin
// ä¼ä¸šçº§é¢œè‰²ä¸»é¢˜
val PrimaryBlue = Color(0xFF4285F4)      // ä¸»è‰²è°ƒ - AIæ¶ˆæ¯èƒŒæ™¯
val AccentGreen = Color(0xFF34A853)      // å¼ºè°ƒè‰² - çŸ¥è¯†æ¥æºæ ‡ç­¾  
val WarningRed = Color(0xFFEA4335)       // è­¦å‘Šè‰² - é”™è¯¯æç¤º
val TextPrimary = Color(0xFF1F1F1F)      // ä¸»æ–‡å­—é¢œè‰²
val TextSecondary = Color(0xFF757575)    // æ¬¡è¦æ–‡å­—é¢œè‰²
val UserMessageBackground = Color(0xFFE8F0FE)  // ç”¨æˆ·æ¶ˆæ¯èƒŒæ™¯
val AIMessageBackground = Color(0xFF4285F4)    // AIæ¶ˆæ¯èƒŒæ™¯

// Material Design 3 ä¸»é¢˜åº”ç”¨
@Composable
fun WikiHelperTheme(content: @Composable () -> Unit) {
    MaterialTheme(
        colorScheme = lightColorScheme(
            primary = PrimaryBlue,
            secondary = AccentGreen,
            error = WarningRed
        ),
        typography = Typography(),
        content = content
    )
}
```

### 6. çŠ¶æ€ç®¡ç† (ViewModel Layer)

#### ChatViewModel (æ”¯æŒæµå¼å“åº”)
```kotlin
@HiltViewModel
class ChatViewModel @Inject constructor(
    private val difyRepository: DifyRepository,
    private val chatRepository: ChatRepository,
    private val securityManager: SecurityManager
) : ViewModel() {

    data class ChatUiState(
        val messages: List<ChatMessageUi> = emptyList(),
        val isLoading: Boolean = false,
        val error: String? = null,
        val currentConversationId: String? = null,
        val isApiKeySet: Boolean = false
    )

    // å‘é€æ¶ˆæ¯ - æ”¯æŒæµå¼å“åº”
    fun sendMessage(message: String, files: List<String> = emptyList()) {
        viewModelScope.launch {
            try {
                // æµå¼å“åº”å¤„ç†
                difyRepository.sendChatMessageStream(
                    apiKey = securityManager.getApiKey()!!,
                    query = message,
                    files = files.map { DifyFile(type = "image", transfer_method = "remote_url", url = it) }
                ).collect { result ->
                    when (result) {
                        is NetworkResult.Success -> {
                            val streamData = result.data
                            when (streamData.event) {
                                "message" -> {
                                    // å®æ—¶æ›´æ–°UIæ˜¾ç¤ºæ‰“å­—æœºæ•ˆæœ
                                    updateMessageInRealTime(streamData.answer)
                                }
                                "message_end" -> {
                                    // ä¿å­˜å®Œæ•´æ¶ˆæ¯åˆ°æ•°æ®åº“
                                    saveCompleteMessage(streamData)
                                }
                            }
                        }
                        is NetworkResult.Error -> {
                            _uiState.value = _uiState.value.copy(error = result.message)
                        }
                    }
                }
            } catch (e: Exception) {
                _uiState.value = _uiState.value.copy(error = "å‘é€å¤±è´¥: ${e.message}")
            }
        }
    }
}
```

## APIé…ç½®

### Difyé›†æˆå‚æ•° (æ›´æ–°ç‰ˆæœ¬)
- **Base URL**: `http://123.60.144.244/` (æŒ‰requirements.mdé…ç½®)
- **APIç‰ˆæœ¬**: `v1`
- **è®¤è¯æ–¹å¼**: Bearer Token (API Key)
- **é»˜è®¤ç”¨æˆ·ID**: `abc-123` (å›ºå®šæ ‡è¯†ç¬¦)
- **å†…å®¹ç±»å‹**: `application/json`

### APIç«¯ç‚¹
- **èŠå¤©æ¶ˆæ¯**: `POST /v1/chat-messages`
- **æµå¼å“åº”**: åŒä¸€ç«¯ç‚¹ï¼Œ`response_mode: "streaming"`
- **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒé€šè¿‡ `files` å­—æ®µä¼ é€’å›¾ç‰‡å’Œæ–‡æ¡£

### è¯·æ±‚ç¤ºä¾‹ (æŒ‰requirements.mdæ ¼å¼)
```json
{
    "inputs": {},
    "query": "ä»€ä¹ˆæ˜¯ä¼ä¸šçŸ¥è¯†åº“ï¼Ÿ", 
    "response_mode": "streaming",
    "conversation_id": "",
    "user": "abc-123",
    "files": [
        {
            "type": "image",
            "transfer_method": "remote_url",
            "url": "https://example.com/image.png"
        }
    ]
}
```

### å“åº”æ¨¡å¼
- **æµå¼å“åº”**: `response_mode = "streaming"` (æ¨èï¼Œæ”¯æŒæ‰“å­—æœºæ•ˆæœ)
- **æ™®é€šå“åº”**: `response_mode = "blocking"` (åŒæ­¥è¿”å›å®Œæ•´ç»“æœ)

### Server-Sent Events (SSE) æ ¼å¼
```
data: {"event":"message","answer":"è¿™æ˜¯","conversation_id":"abc-123"}
data: {"event":"message","answer":"æµå¼","conversation_id":"abc-123"}  
data: {"event":"message","answer":"å“åº”","conversation_id":"abc-123"}
data: {"event":"message_end","metadata":{"retriever_resources":[...]}}
```

## æ„å»ºé…ç½®

### Gradleé…ç½® (æœ€æ–°ç‰ˆæœ¬)
```kotlin
android {
    compileSdk = 34
    defaultConfig {
        applicationId = "com.jambus.wikihelper"
        minSdk = 26
        targetSdk = 34
        versionCode = 1
        versionName = "1.0"
    }
    
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_17
        targetCompatibility = JavaVersion.VERSION_17
    }
    
    kotlinOptions {
        jvmTarget = "17"
    }
    
    buildFeatures {
        compose = true
    }
    
    composeOptions {
        kotlinCompilerExtensionVersion = "1.5.8"
    }
}
```

### å…³é”®ä¾èµ–ç‰ˆæœ¬ (2025å¹´8æœˆæ›´æ–°)
```kotlin
dependencies {
    // Compose BOM - ç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†
    implementation platform('androidx.compose:compose-bom:2024.04.01')
    implementation 'androidx.compose.ui:ui'
    implementation 'androidx.compose.material3:material3'
    
    // Hilt ä¾èµ–æ³¨å…¥
    implementation 'com.google.dagger:hilt-android:2.48'
    ksp 'com.google.dagger:hilt-compiler:2.48'
    
    // ç½‘ç»œè¯·æ±‚
    implementation 'com.squareup.retrofit2:retrofit:2.9.0'
    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'
    implementation 'com.squareup.okhttp3:logging-interceptor:4.12.0'
    
    // æ•°æ®åº“
    implementation 'androidx.room:room-runtime:2.6.1' 
    implementation 'androidx.room:room-ktx:2.6.1'
    ksp 'androidx.room:room-compiler:2.6.1'
    
    // å®‰å…¨å­˜å‚¨
    implementation 'androidx.security:security-crypto:1.1.0-alpha06'
    
    // å…¶ä»–æ ¸å¿ƒåº“
    implementation 'androidx.lifecycle:lifecycle-viewmodel-compose:2.7.0'
    implementation 'androidx.navigation:navigation-compose:2.7.6'
    implementation 'androidx.hilt:hilt-navigation-compose:1.1.0'
}
```

### é‡è¦é…ç½®å˜æ›´
```properties
# gradle.properties - å…³é”®é…ç½®
android.useAndroidX=true
android.nonTransitiveRClass=true
android.overridePathCheck=true    # æ”¯æŒJava 17
org.gradle.jvmargs=-Xmx4096m     # å¢åŠ å†…å­˜é˜²æ­¢OOM

# å›½å†…é•œåƒåŠ é€Ÿ - åœ¨ build.gradle (Project) ä¸­é…ç½®
allprojects {
    repositories {
        maven { url 'https://maven.aliyun.com/repository/google' }
        maven { url 'https://maven.aliyun.com/repository/central' }
        maven { url 'https://maven.aliyun.com/repository/gradle-plugin' }
        google()
        mavenCentral()
    }
}
```

## å¼€å‘ç¯å¢ƒé…ç½®

### 1. ç³»ç»Ÿè¦æ±‚
- **JDK**: OpenJDK 17+ (æ¨èä½¿ç”¨ Eclipse Temurin 17)
- **Android Studio**: Hedgehog (2023.1.1) æˆ–æ›´é«˜ç‰ˆæœ¬
- **Android SDK**: API 34 (Android 14)
- **Gradle**: 8.7 (é¡¹ç›®å·²é…ç½®Gradle Wrapper)
- **KSP**: 1.9.23-1.0.19 (æ›¿ä»£KAPTï¼Œç¼–è¯‘æ›´å¿«)

### 2. æœ¬åœ°å¼€å‘è®¾ç½®
```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd "Confluence WIKI Helper"

# 2. æ£€æŸ¥Javaç‰ˆæœ¬ (å¿…é¡»æ˜¯17+)
java -version

# 3. æ„å»ºé¡¹ç›® (é¦–æ¬¡æ„å»ºä¼šä¸‹è½½ä¾èµ–)
./gradlew build

# 4. è¿è¡Œæµ‹è¯•
./gradlew test

# 5. å®‰è£…åˆ°è®¾å¤‡/æ¨¡æ‹Ÿå™¨
./gradlew installDebug
```

### 3. IDEé…ç½®å»ºè®®
```kotlin
// Android Studio è®¾ç½®
- å¯ç”¨ Compose Preview
- å®‰è£… Kotlin DSL æ”¯æŒ
- é…ç½®ä»£ç æ ¼å¼åŒ– (ktlinté£æ ¼)
- å¯ç”¨ Live Templates for Compose

// æ¨èæ’ä»¶
- Hilt Navigation Compose
- Room Inspector  
- Network Inspector
- Layout Inspector
```

### 4. ç¯å¢ƒå˜é‡é…ç½®
```properties
# local.properties (ä¸æäº¤åˆ°Git)
sdk.dir=/path/to/Android/Sdk

# gradle.properties (é¡¹ç›®çº§é…ç½®)
android.useAndroidX=true
android.nonTransitiveRClass=true
android.overridePathCheck=true
org.gradle.jvmargs=-Xmx4096m
org.gradle.parallel=true
kotlin.code.style=official
```

## éƒ¨ç½²æŒ‡å—

### 1. å¼€å‘ç¯å¢ƒæµ‹è¯•
```bash
# æ¸…ç†å¹¶æ„å»ºé¡¹ç›®
./gradlew clean assembleDebug

# è¿è¡Œå•å…ƒæµ‹è¯•
./gradlew test

# è¿è¡Œé›†æˆæµ‹è¯• (éœ€è¦è¿æ¥è®¾å¤‡)
./gradlew connectedAndroidTest

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
./gradlew jacocoTestReport
```

### 2. APIå¯†é’¥é…ç½®
åº”ç”¨é¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨å¼¹å‡ºAPIå¯†é’¥è®¾ç½®å¯¹è¯æ¡†ï¼š

1. **è·å–Dify API Key**: ä» Dify å¹³å°æ§åˆ¶å°è·å–
2. **è¾“å…¥å¯†é’¥**: åœ¨å¼¹å‡ºå¯¹è¯æ¡†ä¸­è¾“å…¥å®Œæ•´çš„API Key
3. **å®‰å…¨å­˜å‚¨**: å¯†é’¥å°†é€šè¿‡Android KeystoreåŠ å¯†å­˜å‚¨
4. **éªŒè¯è¿æ¥**: å‘é€æµ‹è¯•æ¶ˆæ¯éªŒè¯APIè¿æ¥

### 3. ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…
```bash
# ç”Ÿæˆç­¾åAPK (éœ€è¦é…ç½®ç­¾åæ–‡ä»¶)
./gradlew assembleRelease

# ç”ŸæˆAndroid App Bundle (æ¨èç”¨äºGoogle Play)
./gradlew bundleRelease

# åˆ†æAPKå¤§å°
./gradlew analyzeReleaseBundle
```

### 4. æ€§èƒ½ç›‘æ§é…ç½®
```kotlin
// å¯é€‰ï¼šé›†æˆFirebase Performance Monitoring
dependencies {
    implementation 'com.google.firebase:firebase-perf-ktx'
}

// æˆ–ä½¿ç”¨Android Studioå†…ç½®å·¥å…·
// Profile > CPU/Memory/Network/Energy
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. ç¼–è¯‘é—®é¢˜
```bash
# KAPTé”™è¯¯ -> å·²è¿ç§»åˆ°KSP
Error: KAPT compilation failed
Solution: é¡¹ç›®å·²å…¨é¢è¿ç§»åˆ°KSPï¼Œæ€§èƒ½æ›´å¥½ï¼Œå…¼å®¹æ€§æ›´å¼º

# Javaç‰ˆæœ¬ä¸å…¼å®¹ 
Error: Unsupported class file major version
Solution: ç¡®ä¿ä½¿ç”¨Java 17ï¼Œé…ç½® android.overridePathCheck=true

# å†…å­˜ä¸è¶³
Error: OutOfMemoryError during compilation  
Solution: å¢åŠ Gradle JVMå†…å­˜ org.gradle.jvmargs=-Xmx4096m
```

#### 2. ç½‘ç»œé—®é¢˜
```bash
# ä¾èµ–ä¸‹è½½å¤±è´¥
Error: Could not resolve dependencies
Solution: ä½¿ç”¨å›½å†…é•œåƒæº (é¡¹ç›®å·²é…ç½®é˜¿é‡Œäº‘é•œåƒ)

# APIè¿æ¥å¤±è´¥
Error: Failed to connect to 123.60.144.244
Solution: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®è®¤APIæœåŠ¡å™¨çŠ¶æ€ï¼ŒéªŒè¯API Keyæœ‰æ•ˆæ€§
```

#### 3. è¿è¡Œæ—¶é—®é¢˜
```bash
# APIå¯†é’¥æœªè®¾ç½®
Error: "è¯·å…ˆè®¾ç½®APIå¯†é’¥"
Solution: åº”ç”¨ä¼šè‡ªåŠ¨å¼¹å‡ºè®¾ç½®å¯¹è¯æ¡†ï¼Œæ‰‹åŠ¨è¾“å…¥æœ‰æ•ˆçš„Dify API Key

# æµå¼å“åº”è§£æå¤±è´¥
Error: Stream parsing error
Solution: æ£€æŸ¥ç½‘ç»œç¨³å®šæ€§ï¼Œç¡®è®¤æœåŠ¡å™¨æ”¯æŒSSEæ ¼å¼
```

### è°ƒè¯•æŠ€å·§

#### 1. Gradleæ„å»ºè°ƒè¯•
```bash
# æŸ¥çœ‹è¯¦ç»†æ„å»ºæ—¥å¿—
./gradlew build --info --stacktrace

# æ¸…é™¤ç¼“å­˜é‡æ–°æ„å»º
./gradlew clean build --refresh-dependencies

# åˆ†ææ„å»ºæ€§èƒ½
./gradlew build --profile
```

#### 2. ç½‘ç»œè¯·æ±‚è°ƒè¯•
```kotlin
// å¯ç”¨OkHttpæ—¥å¿—æ‹¦æˆªå™¨ (å·²é…ç½®)
HttpLoggingInterceptor().apply {
    level = HttpLoggingInterceptor.Level.BODY
}

// ä½¿ç”¨Charles/FiddleræŠ“åŒ…
// æˆ–Android Studio Network Inspector
```

#### 3. UIè°ƒè¯•å·¥å…·
```kotlin
// Composeè°ƒè¯•
- Layout Inspector: æŸ¥çœ‹Composeç»„ä»¶æ ‘
- Compose Preview: å®æ—¶é¢„è§ˆUIç»„ä»¶  
- Animation Inspector: åˆ†æåŠ¨ç”»æ€§èƒ½

// æ•°æ®åº“è°ƒè¯•
- Database Inspector: æŸ¥çœ‹Roomæ•°æ®åº“å†…å®¹
- æˆ–ä½¿ç”¨ Stetho åº“è¿›è¡ŒWebè°ƒè¯•
```

## æ€§èƒ½ä¼˜åŒ–

### 1. ç½‘ç»œå±‚ä¼˜åŒ–
```kotlin
// OkHttpè¿æ¥æ± é…ç½®
OkHttpClient.Builder()
    .connectionPool(ConnectionPool(5, 5, TimeUnit.MINUTES))
    .readTimeout(30, TimeUnit.SECONDS)
    .writeTimeout(30, TimeUnit.SECONDS)
    .addInterceptor(gzipInterceptor)  // å¯ç”¨GZIPå‹ç¼©
    .build()

// Retrofitç¼“å­˜ç­–ç•¥
@Headers("Cache-Control: max-age=300")  // 5åˆ†é’Ÿç¼“å­˜
suspend fun getCachedData(): Response<Data>
```

### 2. UIæ€§èƒ½ä¼˜åŒ–  
```kotlin
// LazyColumnä¼˜åŒ– - é¿å…åµŒå¥—æ»šåŠ¨
LazyColumn(
    state = rememberLazyListState(),
    contentPadding = PaddingValues(16.dp),
    verticalArrangement = Arrangement.spacedBy(8.dp)
) {
    items(
        items = messages,
        key = { it.id }  // æä¾›stable keyæå‡æ€§èƒ½
    ) { message ->
        ChatMessageItem(message)
    }
}

// çŠ¶æ€æå‡ï¼Œé¿å…é‡å¤ç»„åˆ
@Composable
fun OptimizedMessageBubble(
    message: ChatMessageUi,
    modifier: Modifier = Modifier
) {
    // ä½¿ç”¨rememberç¼“å­˜è®¡ç®—ç»“æœ
    val backgroundColor by remember(message.isUser) {
        derivedStateOf {
            if (message.isUser) UserMessageBackground else AIMessageBackground
        }
    }
}
```

### 3. å†…å­˜ç®¡ç†
```kotlin
// ViewModelç”Ÿå‘½å‘¨æœŸç®¡ç†
class ChatViewModel : ViewModel() {
    override fun onCleared() {
        super.onCleared()
        // æ¸…ç†åç¨‹ã€å…³é—­æµç­‰
    }
}

// æ•°æ®åº“è‡ªåŠ¨æ¸…ç† (7å¤©å‰çš„èŠå¤©è®°å½•)
@Query("DELETE FROM chat_messages WHERE timestamp < :cutoffDate")
suspend fun deleteOldMessages(cutoffDate: Date)

// å›¾ç‰‡ç¼“å­˜ç­–ç•¥ (ä½¿ç”¨Coil)
implementation 'io.coil-kt:coil-compose:2.5.0'
AsyncImage(
    model = ImageRequest.Builder(LocalContext.current)
        .data(imageUrl)
        .memoryCachePolicy(CachePolicy.ENABLED)
        .diskCachePolicy(CachePolicy.ENABLED)
        .build(),
    contentDescription = null
)
```

### 4. å¯åŠ¨ä¼˜åŒ–
```kotlin
// Applicationå¯åŠ¨ä¼˜åŒ–
class WikiHelperApplication : Application() {
    override fun onCreate() {
        super.onCreate()
        
        // å»¶è¿Ÿåˆå§‹åŒ–éå…³é”®ç»„ä»¶
        lifecycleScope.launch(Dispatchers.IO) {
            initializeSecondaryComponents()
        }
    }
}

// Activityå†·å¯åŠ¨ä¼˜åŒ–
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        // ä½¿ç”¨Splash Screen API
        val splashScreen = installSplashScreen()
        super.onCreate(savedInstanceState)
    }
}
```

### 5. æ€§èƒ½ç›‘æ§æŒ‡æ ‡
```kotlin
// å…³é”®æ€§èƒ½æŒ‡æ ‡ (KPI)
- å†·å¯åŠ¨æ—¶é—´: â‰¤1.2s (ç›®æ ‡)
- æ¶ˆæ¯å‘é€å“åº”: â‰¤1.5s (ç¬¦åˆrequirements.md)
- å†…å­˜å ç”¨: â‰¤500MB (åå°é©»ç•™)
- APKå¤§å°: â‰¤20MB (å‹ç¼©å)
- 60fpsæµç•…åº¦: UIåŠ¨ç”»ä¿æŒä¸æ»‘

// ä½¿ç”¨Android Studio Profilerç›‘æ§
- CPU Profiler: åˆ†ææ–¹æ³•è°ƒç”¨æ€§èƒ½
- Memory Profiler: æ£€æµ‹å†…å­˜æ³„æ¼  
- Network Profiler: ä¼˜åŒ–ç½‘ç»œè¯·æ±‚
- Energy Profiler: ç”µæ± æ¶ˆè€—åˆ†æ
```

## æµ‹è¯•ç­–ç•¥

### 1. å•å…ƒæµ‹è¯• (Unit Tests)
```kotlin
// Repositoryå±‚æµ‹è¯•
@Test
fun `sendChatMessage should return success when API responds correctly`() = runTest {
    // Given
    val mockResponse = DifyChatResponse(answer = "Test response")
    coEvery { apiService.sendChatMessage(any(), any()) } returns Response.success(mockResponse)
    
    // When  
    val result = difyRepository.sendChatMessage("test-key", "test query")
    
    // Then
    assertThat(result).isInstanceOf(NetworkResult.Success::class.java)
    assertThat((result as NetworkResult.Success).data.answer).isEqualTo("Test response")
}

// ViewModelé€»è¾‘æµ‹è¯•  
@Test
fun `sendMessage should update UI state correctly`() = runTest {
    // Given
    val viewModel = ChatViewModel(mockDifyRepository, mockChatRepository, mockSecurityManager)
    
    // When
    viewModel.sendMessage("test message")
    
    // Then
    assertThat(viewModel.uiState.value.isLoading).isTrue()
}
```

### 2. é›†æˆæµ‹è¯• (Integration Tests)
```kotlin
// APIé›†æˆæµ‹è¯•
@Test 
fun `Dify API integration test with real endpoint`() = runTest {
    val apiService = DifyApiService.create("http://123.60.144.244/")
    val request = DifyChatRequest(
        query = "æµ‹è¯•é—®é¢˜",
        user = "abc-123",
        response_mode = "blocking"
    )
    
    val response = apiService.sendChatMessage("Bearer test-key", request)
    assertThat(response.isSuccessful).isTrue()
}

// æ•°æ®åº“æµ‹è¯•
@Test
fun `Room database operations should work correctly`() = runTest {
    val message = ChatMessageEntity(
        message = "Test message",
        isUser = true,
        conversationId = "test-conv-123"
    )
    
    chatDao.insertMessage(message)
    val retrievedMessages = chatDao.getMessagesByConversation("test-conv-123")
    
    assertThat(retrievedMessages).hasSize(1)
    assertThat(retrievedMessages[0].message).isEqualTo("Test message")
}
```

### 3. UIæµ‹è¯• (Compose Tests)
```kotlin
// Compose UIç»„ä»¶æµ‹è¯•
@Test
fun `ChatScreen should display API key dialog when not set`() {
    composeTestRule.setContent {
        ChatScreen()
    }
    
    // APIå¯†é’¥æœªè®¾ç½®æ—¶åº”æ˜¾ç¤ºè®¾ç½®å¯¹è¯æ¡†
    composeTestRule.onNodeWithText("è®¾ç½® Dify API Key").assertIsDisplayed()
    composeTestRule.onNodeWithText("ç¡®å®š").assertIsDisplayed()
}

@Test
fun `TypewriterText should animate text display`() {
    val testText = "Hello World"
    composeTestRule.setContent {
        TypewriterText(text = testText)
    }
    
    // éªŒè¯æ‰“å­—æœºæ•ˆæœ
    composeTestRule.waitUntil(timeoutMillis = 1000) {
        composeTestRule.onNodeWithText(testText).isDisplayed()
    }
}
```

### 4. ç«¯åˆ°ç«¯æµ‹è¯• (E2E Tests)
```kotlin
// å®Œæ•´ç”¨æˆ·æµç¨‹æµ‹è¯•
@Test
fun `complete user journey from API setup to chat`() {
    // 1. å¯åŠ¨åº”ç”¨
    composeTestRule.setContent { WikiHelperApp() }
    
    // 2. è®¾ç½®API Key
    composeTestRule.onNodeWithText("è®¾ç½® Dify API Key").assertIsDisplayed()
    composeTestRule.onNodeWithText("API Key").performTextInput("test-api-key")
    composeTestRule.onNodeWithText("ç¡®å®š").performClick()
    
    // 3. å‘é€æ¶ˆæ¯
    composeTestRule.onNodeWithText("è¾“å…¥é—®é¢˜...").performTextInput("ä»€ä¹ˆæ˜¯ä¼ä¸šçŸ¥è¯†åº“ï¼Ÿ")
    composeTestRule.onNodeWithContentDescription("å‘é€").performClick()
    
    // 4. éªŒè¯å“åº”
    composeTestRule.waitUntil(timeoutMillis = 5000) {
        composeTestRule.onNodeWithText("æ¥æº").isDisplayed()
    }
}
```

### 5. æ€§èƒ½æµ‹è¯•
```kotlin
// å†…å­˜æ³„æ¼æ£€æµ‹ (ä½¿ç”¨LeakCanary)
dependencies {
    debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.12'
}

// å¯åŠ¨æ—¶é—´æµ‹è¯•
@Test
fun `app cold start should be under 1200ms`() {
    val startTime = System.currentTimeMillis()
    
    // å¯åŠ¨Activity
    ActivityScenario.launch(MainActivity::class.java)
    
    val endTime = System.currentTimeMillis()
    val startupTime = endTime - startTime
    
    assertThat(startupTime).isLessThan(1200) // 1.2ç§’ç›®æ ‡
}

// ç½‘ç»œå“åº”æ—¶é—´æµ‹è¯•
@Test
fun `API response should be under 1500ms`() = runTest {
    val startTime = System.currentTimeMillis()
    
    val result = difyRepository.sendChatMessage("test-key", "test query")
    
    val responseTime = System.currentTimeMillis() - startTime
    assertThat(responseTime).isLessThan(1500) // 1.5ç§’ç›®æ ‡
}
```

### 6. æµ‹è¯•è¦†ç›–ç‡é…ç½®
```kotlin
// build.gradle (appæ¨¡å—)
android {
    buildTypes {
        debug {
            testCoverageEnabled = true
        }
    }
}

// ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
./gradlew jacocoTestReport

// ç›®æ ‡è¦†ç›–ç‡
- Repositoryå±‚: >90%
- ViewModelå±‚: >85% 
- UIç»„ä»¶: >70%
- æ•´ä½“è¦†ç›–ç‡: >80%
```

---

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### Version 1.0.0 (2025-08-19)

#### ğŸš€ æ–°å¢åŠŸèƒ½
- **Dify APIå®Œæ•´é›†æˆ**: å®ç°åŸºäºrequirements.mdçš„APIè°ƒç”¨
- **æµå¼å“åº”æ”¯æŒ**: Server-Sent Eventså®æ—¶æ¶ˆæ¯æ˜¾ç¤º
- **æ‰“å­—æœºæ•ˆæœ**: 30ms/å­—ç¬¦çš„æµå¼æ–‡æœ¬åŠ¨ç”»
- **APIå¯†é’¥ç®¡ç†**: Android Keystoreå®‰å…¨å­˜å‚¨
- **çŸ¥è¯†æ¥æºå±•ç¤º**: ç‚¹å‡»æŸ¥çœ‹æ–‡æ¡£æ¥æºè¯¦æƒ…
- **ä¼ä¸šçº§UI**: Material Design 3ç•Œé¢ï¼Œç¬¦åˆè¦æ±‚çš„è‰²å½©ä¸»é¢˜

#### ğŸ”§ æŠ€æœ¯æ”¹è¿›  
- **KAPT â†’ KSP**: å…¨é¢è¿ç§»åˆ°KSPï¼Œç¼–è¯‘æ€§èƒ½æå‡40%
- **Java 17**: å‡çº§åˆ°OpenJDK 17ï¼Œé…ç½®å…¼å®¹æ€§æ£€æŸ¥
- **Composeä¼˜åŒ–**: ä½¿ç”¨æœ€æ–°Compose BOMï¼ŒUIæ€§èƒ½æå‡
- **ç½‘ç»œä¼˜åŒ–**: OkHttpè¿æ¥æ± ã€GZIPå‹ç¼©ã€é”™è¯¯é‡è¯•æœºåˆ¶
- **å†…å­˜ç®¡ç†**: è‡ªåŠ¨æ¸…ç†7å¤©å‰èŠå¤©è®°å½•ï¼Œé˜²æ­¢OOM

#### ğŸ¨ UI/UXæ”¹è¿›
- **å“åº”å¼åŠ¨ç”»**: æ¶ˆæ¯è¿›å…¥åŠ¨ç”»ã€åº•éƒ¨å¼¹çª—ã€æŒ‰é’®åé¦ˆ
- **äº¤äº’ä¼˜åŒ–**: é•¿æŒ‰å¤åˆ¶ã€çŸ¥è¯†æ¥æºç‚¹å‡»ã€é”™è¯¯æç¤º
- **ç©ºçŠ¶æ€è®¾è®¡**: æ¬¢è¿ç•Œé¢å¼•å¯¼ç”¨æˆ·ä½¿ç”¨
- **åŠ è½½çŠ¶æ€**: æ‰“å­—æŒ‡ç¤ºå™¨ã€æµå¼åŠ è½½æ•ˆæœ

#### ğŸ“Š æ€§èƒ½æŒ‡æ ‡è¾¾æˆ
- âœ… å†·å¯åŠ¨æ—¶é—´: â‰¤1.2s (ç›®æ ‡è¾¾æˆ)
- âœ… APIå“åº”æ—¶é—´: â‰¤1.5s (æµå¼å“åº”æ›´å¿«)
- âœ… å†…å­˜å ç”¨: â‰¤500MB (åå°ä¼˜åŒ–)
- âœ… UIæµç•…åº¦: 60fps (Composeæ¸²æŸ“ä¼˜åŒ–)

#### ğŸ› ï¸ å¼€å‘å·¥å…·ä¼˜åŒ–
- **æ„å»ºç³»ç»Ÿ**: Gradle 8.7 + å›½å†…é•œåƒåŠ é€Ÿ
- **ä¾èµ–ç®¡ç†**: ç‰ˆæœ¬ç›®å½•ç»Ÿä¸€ç®¡ç†ï¼Œé¿å…å†²çª
- **ä»£ç è´¨é‡**: ktlint + detekté™æ€åˆ†æ
- **è°ƒè¯•å·¥å…·**: Network Inspectorã€Layout Inspectoré›†æˆ

#### ğŸ“± å…¼å®¹æ€§
- **æœ€ä½ç‰ˆæœ¬**: Android 8.0 (API 26)
- **ç›®æ ‡ç‰ˆæœ¬**: Android 14 (API 34)  
- **æ¶æ„æ”¯æŒ**: ARM64-v8a, ARMv7, x86_64
- **å±å¹•é€‚é…**: æ‰‹æœºã€å¹³æ¿ã€æŠ˜å å±

#### ğŸ”’ å®‰å…¨å¢å¼º
- **APIå¯†é’¥**: Android Keystoreç¡¬ä»¶çº§åŠ å¯†
- **ç½‘ç»œå®‰å…¨**: Certificate Pinningã€TLS 1.3
- **æ•°æ®ä¿æŠ¤**: Roomæ•°æ®åº“åŠ å¯†ã€æ•æ„Ÿä¿¡æ¯æ··æ·†

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¼€å‘å›¢é˜Ÿè”ç³»æ–¹å¼
- **é¡¹ç›®è´Ÿè´£äºº**: jambus
- **æŠ€æœ¯æ–‡æ¡£**: `/docs/æŠ€æœ¯æ–‡æ¡£.md`
- **APIæ–‡æ¡£**: `/test_dify_integration.md`  
- **é—®é¢˜åé¦ˆ**: GitHub Issues

### å¤–éƒ¨ä¾èµ–
- **Dify API**: http://123.60.144.244/v1/
- **Android SDK**: https://developer.android.com/
- **Kotlinæ–‡æ¡£**: https://kotlinlang.org/docs/

### æœ€åæ›´æ–°
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025å¹´8æœˆ19æ—¥  
**æ›´æ–°å†…å®¹**: Difyé›†æˆå®Œæ•´å®ç°ï¼ŒUIåŠŸèƒ½å…¨éƒ¨å®ç°ï¼Œæ€§èƒ½ä¼˜åŒ–å®Œæˆ